:lang: ja
:doctype: book
:source-highlighter: coderay
:pdf-fontsdir: fonts
:imagesdir: images

:doctitle: Asciidocの調査と練習
:author: 著者は鍋谷武典だ
:docauthor: 著者は鍋谷武典だ
:revnumber: 0.0.0-foo-bar
:revdate: 吉日

:chapter-label: 
:chapter-refsig: 
:section-refsig: 

:important-caption: 重要
:warning-caption: 警告
:example-caption: 例
:table-caption: 表
:figure-caption: 図
:stem: latexmath
:toclevels: 10
:sectnums:
:sectnumlevels: 10
:toc-title: 目次
:toc:
<<<

= タイトル。番号がつかない。

hoge

== 見出し。番号がつく。章?

foo

=== 見出し。節?

bar

==== 見出し。項?

baz

===== 見出し。項より深い。

qux

====== 見出し。項よりだいぶ深い。

quux

======= これは深すぎて対応しない

corge

== 箇条書き

.箇条書きのタイトル
. foo
.. foo-bar
.. foo-baz

//-

.箇条書きのタイトル
* hoge
** hoge-fuga
** hoge-piyo

//-

.箇条書きのタイトル
* hoge
. hoge-foo
. hoga-bar
* fuga
. fuga-foo
. fuga-bar
* piyo
. piyo-foo
. piyo-bar

== 図を入れる

HTML だと図の回り込みテキストができるのに、 PDF だとできない模様。残念すぎる。

表を片側に寄せてテキストを回り込ませるのも無理っぽい。

[autofit=true, options=autofit, cols="1", float=left, align=left, width=30]
|===
a|
.fooの図
image::yhpg-last.png[width=100, pdfwidth=50mm]
|===
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

.fooの図
image::yhpg-last.png[width=100, pdfwidth=50mm]
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

.barの図
[.left]
image::yhpg-last.png[width=100, pdfwidth=50mm, float=left, role=left]
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

.bazの図
[.right]
image::yhpg-last.png[role="related thumb right", width=100, pdfwidth=50mm, float="right", aligh="right"]
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.


== 上付き文字 下付き文字

真空の誘電率 ε~0~ = 8.8542 × 10^−12^ [F m^−1^]

磁気定数: μ~0~ = 1.2566 × 10^-6^ [N A^-2^]

光速: c = 2.9979 × 10^8^ [m s^-1^]

μ~0~ = (ε~0~ c^2^)^-1^

== ソースコード

等幅(いわゆる全角文字は半角2文字分)になる。

=== インライン

[source,ruby]
.try_all_sort
----
def try_all_sort(s)
  s.permutation(s.size){ |x|
    return x if x.each_cons(2).all?{ |a,b| a<=b }
  }
end
# 012 ABCD 1|l 0O
# 日本語 𩹉 🐶
----

=== インクルード

[source, ruby]
----
include::try_all_sort.rb[]
----

== 数式

以下を試してみたが、うまくレンダリングされない...

[stem]
++++
\int_0^\infty f(x) dx
++++

[stem,latexmath]
++++
C = \alpha + \beta Y^{\gamma} + \epsilon
++++

[asciimath]
++++
sqrt(4) = 2
++++


== フォント

* *ボールド　foo bar baz 魑魅魍魎 𩹉*
* レギュラー　foo bar baz 魑魅魍魎 𩹉
* _イタリック　foo bar baz 魑魅魍魎 𩹉_
* *_ボールドイタリック　foo bar baz 魑魅魍魎 𩹉_*
* `mono foo bar baz 123 Il| O0 魑魅魍魎 𩹉`
* *`mono bold foo bar baz 123 Il| O0 魑魅魍魎 𩹉`*

イタリックフォントはは存在しないので仕方ない

=== 今のフォント設定では絵文字は出ない模様

犬: 🐶

猫: 😺

ハート: ♥

ダイヤ: ♦

ジョーカー: 🃏


== テーブル

.普通の表
[options="header,autowidth"]
|===
|col1|col2|col3
|data1|data2|data3
|===


.結合表
[options="header"]
|====
|col1|col2|col3|col4
3+|三列結合|4列目
.2+|2行結合|2-2|2-3|2-4
|3-2|3-3|3-4
|====


.表の中に表
[cols="1a,2a"]
|===
| outer col 1 | outer col 2

| Banana
| Kiwi

| Mango
| Apple
赤りんご

[cols="1a,2a"]
!===
! inner col 1 ! inner col 2

! 紅玉
! 酸味が強め

! ジョナゴールド
! 果肉は硬く、緻密でシャキシャキしている

!===

青りんご

[cols="1a,2a"]
!===
! inner col 1 ! inner col 2

! 王林
! 甘さが強く、独特のな香りがある。

! トキ
! 穏やかな酸味。香りが強い。

!===

|===

.大きくて複雑な表。cols の "a" は「asciidoc記法を有効にする」という意味。
[options="header", cols="1a,2a,5a"]
|===
|名称
|開発元
|特徴

|Firefox
|
Mozilla Foundation および Mozilla Corporation
|
* オープンソース
* 標準への準拠
* 完全にオープンソース
* エンジンは Gecko / SpiderMonkey

|Google Chrome
|
Google
|
* 主要部分はオープンソースだが、全体としてはプロプライエタリ
* 標準への準拠
* 完全にオープンソース
* エンジンは Blink / V8

|Lynx
|Thomas Dickey
|
* テキスト表示のブラウザ
* 画像は表示できない
* テーブルにもフレームにも対応しない

|旧 Microsoft Edge
.3+|Microsoft
|
* マイクロソフトの独自ブラウザ
* 2020年に終了。
* アイコンが IE と似ている

|新 Microsoft Edge
|
* マイクロソフトの Chromium 派生ブラウザ
* Google Chrome と共通点が多い
* アイコンは ジェルボールに似ている

|Intenet Explorer
|
* 昔は世界を席巻していた
* 今は マイクロソフト自身があまり使ってほしくないと言っている模様
* ActiveX Control という必殺技がある
* ウェブ標準にはあまり従わない
* 昔は Mac 版もあったが、今はない。

|Safari
|Apple
|
* macOS と iOS の標準ブラウザ
* WebKit(KHTML) ベース
* エンジンは WebKit / Nitro
* Chromium勢、Firefox と比べるとウェブ標準との乖離が多いと言われている
* 昔は Windows 版もあったが、今はない。

|Dream Passport
|セガ
|
* ゲーム機 Dreamcast 用のブラウザ

|Opera
|オペラ・ソフトウェア
|
* 以前は独自エンジン(Presto)のブラウザだったが、今は Chromium ベースになっている
* W-ZERO3 や ニンテンドーDS などでも採用されていた

|NetFront
|ACCESS
|
* PlayStation Vita や ニンテンドー3DS などで採用されていた
* 以前は独自エンジンだったが、今は WebKit を使っている模様

|iCab
|Alexander Clauss
|
* 独自エンジンを採用した Macintosh 用ブラウザだった。
* 今は WebKit ベース


|===

== PlantUML

.PlantUMLは、スタイルを config= で指定できる。
[plantuml,hogeの図,config=style/plantuml.conf]
--
class foo
class bar
class baz
foo -> bar : 漢字
bar -> baz : サロゲートペア文字(𩹉)
baz -> foo : 絵文字(🐶)
--

絵文字は出ない。本文にも出ないけど(🐶)

.PlantUMLによる数式(png)
[plantuml,数式,config=style/plantuml.conf, scaledwidth="30%"]
--
:<latex>\sum_{i=0}^{n-1} (犬_i + 𩹉_i^2)</latex>;
--
「犬」は出るけど「𩹉」は出ない模様。


.PlantUMLによる数式(svg)
[plantuml,数式,format="svg",config=style/plantuml.conf, scaledwidth="30%"]
--
:<latex>\sum_{i=0}^{n-1} (犬_i + 𩹉_i^2)</latex>;
--
こちらも「犬」は出るけど「𩹉」は出ない模様。

拡大すると、ちょっと形が崩れている。

== ソースコードの分割


[source]
--
\include::semifinal_section.adoc[]

\include::final_section.adoc[]
--

などと書くと、別の adoc を取り込むことができる。
付番もちゃんと繋がる。

include::semifinal_section.adoc[]

include::final_section.adoc[]



:sectnums!:
== 巻末資料

[source]
--
:sectnums!:
--
と書くと、付番されなくなる。

<<<
[.text-center.lead]
奥付

[source]
--
== 奥付
--
などと書くと TOC にあらわれてしまうので、単に

[source]
--
<<<
[.text-center.lead]
奥付
--
などとする。


// [.center, options="autowidth",grid=none,frame=none,cols=">a,a"]

[grid=none,frame=none,cols="10,1,10"]
|===
>|著者
|
s|鍋谷 武典

>|発行人
|
s|鍋谷 武典

>|レンダリング
|
s|Asciidoctor

>|発行日
|
s|今日

|===

