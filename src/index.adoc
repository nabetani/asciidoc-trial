:source-highlighter: coderay
:pdf-fontsdir: fonts
:stem: latexmath
:toc:
<<<
= Asciidocサンプル

== はじめに
AsciiDoc、graphviz、PlantUMLを使ってソフトウェアの仕様書を作るためのサンプルです。

== AsciiDocの書き方
Markdownを書いたことがあれば似たような感じでかけます。困ったら以下を参考にどう書くのか調べながら書いていけばよいと思います。

link:https://takumon.github.io/asciidoc-syntax-quick-reference-japanese-translation/[Asciidoctor 文法クイックリファレンス(日本語訳)]

== Markdownとの違い
違いは以下にまとめられています。
link:https://asciidoctor.org/docs/asciidoc-vs-markdown/[AsciiDoc vs Markdown, asciidoctor docs]

よく使用し、Markdownと書き方が違うものを示す

=== 見出し
Markdownでは#で記述するがasciidocでは=を使用する。
Markdownと同じで=の数でレベルを表現する

=== 箇条書き
Markdownでは-で記述するがasciidocでは*を使用する。
箇条書きの字下げはMarkdownでは字下げして-であったが、asciidocでは*の数で表現する。

* 箇条書き1
* 箇条書き2
** １段下げ
*** 2段下げ

=== 番号付きの箇条書き
Markdownでは数値. でasciidocでは.を使用する。.の数で字下げ

. 番号付き1
.. 1段下げ
... 2段下げ

=== 数式

[stem]
++++
\int_0^\infty f(x) dx
++++

[stem,latexmath]
++++
C = \alpha + \beta Y^{\gamma} + \epsilon
++++

[asciimath]
++++
sqrt(4) = 2
++++


=== フォント

* *ボールド　foo bar baz 魑魅魍魎 𩹉*
* レギュラー　foo bar baz 魑魅魍魎 𩹉
* _イタリック　foo bar baz 魑魅魍魎 𩹉_
* *_ボールドイタリック　foo bar baz 魑魅魍魎 𩹉_*
* `mono foo bar baz 123 Il| O0 魑魅魍魎 𩹉`
* *`mono bold foo bar baz 123 Il| O0 魑魅魍魎 𩹉`*

==== 絵文字は出ない模様
犬: 🐶

猫: 😺

ハート: ♥

ダイヤ: ♦

ジョーカー: 🃏


=== テーブル
テーブルは|===で始めて|===で終わるブロック内に書きます。
行の終わりの|は不要です。
ヘッダはヘッダとデータの行の間に空白を入れるか、ブロックの頭にオプションでヘッダを指定します。
オプションの指定で幅の自動調整も一緒にしたりするのでブロックの頭にオプション指定したほうが良いでしょう。

.普通の表
[options="header,autowidth"]
|===
|col1|col2|col3
|data1|data2|data3
|===


.結合表
[options="header"]
|====
|col1|col2|col3|col4
3+|三列結合|4列目
.2+|2行結合|2-2|2-3|2-4
|3-2|3-3|3-4
|====


.大きくて複雑な表
[options="header", cols="1a,2a,5a"]
|===
|名称
|開発元
|特徴

|Firefox
|
Mozilla Foundation および Mozilla Corporation
|
* オープンソース
* 標準への準拠
* 完全にオープンソース
* エンジンは Gecko / SpiderMonkey

|Google Chrome
|
Google
|
* 主要部分はオープンソースだが、全体としてはプロプライエタリ
* 標準への準拠
* 完全にオープンソース
* エンジンは Blink / V8

|Lynx
|Thomas Dickey
* テキスト表示のブラウザ
* 画像は表示できない
* テーブルにもフレームにも対応しない

|旧 Microsoft Edge
.3+|Microsoft
|
* マイクロソフトの独自ブラウザ
* 2020年に終了。
* アイコンが IE と似ている

|新 Microsoft Edge
|
* マイクロソフトの Chromium 派生ブラウザ
* Google Chrome と共通点が多い
* アイコンは ジェルボールに似ている

|Intenet Explorer
|
* 昔は世界を席巻していた
* 今は マイクロソフト自身があまり使ってほしくないと言っている模様
* ActiveX Control という必殺技がある
* ウェブ標準にはあまり従わない
* 昔は Mac 版もあったが、今はない。

|Safari
|Apple
|
* macOS と iOS の標準ブラウザ
* WebKit(KHTML) ベース
* エンジンは WebKit / Nitro
* Chromium勢、Firefox と比べるとウェブ標準との乖離が多いと言われている
* 昔は Windows 版もあったが、今はない。

|Dream Passport
|セガ
|
* ゲーム機 Dreamcast 用のブラウザ

|Opera
|オペラ・ソフトウェア
|
* 以前は独自エンジン(Presto)のブラウザだったが、今は Chromium ベースになっている
* W-ZERO3 や ニンテンドーDS などでも採用されていた

|NetFront
|ACCESS
|
* PlayStation Vita や ニンテンドー3DS などで採用されていた
* 以前は独自エンジンだったが、今は WebKit を使っている模様

|iCab
|Alexander Clauss
|
* 独自エンジンを採用した Macintosh 用ブラウザだった。
* 今は WebKit ベース


|===

=== PlantUML
asciidoc-diagramを使用すると、PlantUMLを直接書けます。
(画像を勝手に作って挿入してくれる。)

別ファイルにしてincludeで使う方が良いでしょう

.PlantUMLの例
[plantuml,hogeの図,config=style/plantuml.conf]
--
class teleop_turtle
class turtlesim
teleop_turtle -> turtlesim : 送信(𩹉)
turtlesim -> turtlesim : 自問自答(𩹉)
--

.PlantUMLによる数式(png)
[plantuml,数式,config=style/plantuml.conf, scaledwidth="30%"]
--
:<latex>\sum_{i=0}^{n-1} (犬_i + 𩹉_i^2)</latex>;
--
「犬」は出るけど「𩹉」は出ない模様。


.PlantUMLによる数式(svg)
[plantuml,数式,format="svg",config=style/plantuml.conf, scaledwidth="30%"]
--
:<latex>\sum_{i=0}^{n-1} (犬_i + 𩹉_i^2)</latex>;
--
こちらも「犬」は出るけど「𩹉」は出ない模様。

拡大すると、ちょっと形が崩れている。
